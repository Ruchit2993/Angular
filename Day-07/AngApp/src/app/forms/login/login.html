<app-sidebar></app-sidebar>
<div class="container mt-5" style="margin-left:210px;">
  <div class="card shadow">
    <div class="card-header bg-info text-white">
      <h3>{{ nv.title }}</h3>
    </div>
    <div class="card-body bg-light">
      <form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
        <div class="mb-3">
          <label class="form-label">{{ nv.labels.email }}</label>
          <input formControlName="email" type="email" class="form-control" placeholder="{{ nv.placeholders.email }}">
          <div class="text-danger" *ngIf="form.get('email')?.invalid && (form.get('email')?.touched || submitted)">
            <span *ngIf="form.get('email')?.errors?.['required']">Email is required.</span>
            <span *ngIf="form.get('email')?.errors?.['email']">Invalid email format.</span>
          </div>
        </div>

        <div class="mb-3 position-relative">
          <label class="form-label">{{ nv.labels.password }}</label>
          <input formControlName="password" type="password" class="form-control" id="password" placeholder="{{ nv.placeholders.password }}">
          <span class="position-absolute top-50 end-0 translate-middle-y me-3" style="cursor:pointer;" (click)="togglePassword('password', $event)">
            <i class="bi bi-eye" id="eye-password" aria-hidden="true"></i>
          </span>
          <div class="text-danger" *ngIf="authError">{{ authError }}</div>
        </div>

        <button type="submit" class="btn btn-primary w-100">Login</button>
      </form>

      <div class="mt-3" *ngIf="userNotFound">
        <p>User not found. You can register instead.</p>
        <button class="btn btn-outline-secondary" (click)="goRegister()">Register</button>
      </div>
    </div>
  </div>
</div>